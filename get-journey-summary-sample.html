<html>
<head>
    <meta name="viewport" content="user-scalable=0;"/>
    <!-- fix the issue where elements are too small on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>

    <!-- TODO please don't change this URL -->
    <script src="https://expose-journey-store.dff2qf83gvw45.amplifyapp.com/idwise.min.js"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<button onclick="getJourney()">Log Journey Summary to console</button>
<br>
<div id="idwise-mount"></div>

<script>
  let idwiseInstance;

  IDWise.initialize({
    clientKey: "REPLACE_WITH_YOUR_CLIENT_KEY", // Replace with your client key
  })
    .then(idwise => {
      idwiseInstance = idwise;  // assign idwise instance to a global variable

      idwise.startJourney({
        mount: "#idwise-mount",
        journeyDefinitionId: "REPLACE_WITH_YOUR_JOURNEY_DEFINITION_ID", // journey definition id
        eventHandlers: {
          onJourneyFinished: function () {
            getJourney(); // call getSummary() to get the journey summary
            alert("Thanks for completing the registration");
          },
        },
      });
    })
    .catch(err => {
      console.error(err);
    });

  function getJourney() {
    console.dir(idwiseInstance.getSummary()); // call getSummary() to get the journey summary
  }
</script>
</body>
</html>
